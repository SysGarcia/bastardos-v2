---
// src/components/CarruselPersonajes.astro
---

<div id="carrusel" class="relative h-screen w-full overflow-hidden">
    <div class="carousel h-full w-full">
      <div class="carousel-item h-full w-full">
        <div class="relative h-full w-full">
          <img src="/public/assets/PERSONAJES/Samuel.JPG" alt="Personaje 1" class="h-full w-full object-cover" />
          <button class="info-btn absolute bottom-4 right-4 bg-white p-1 rounded-full shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </button>
        </div>
      </div>
      <div class="carousel-item h-full w-full">
        <div class="relative h-full w-full">
          <img src="/public/assets/PERSONAJES/Raul.JPG" alt="Personaje 2" class="h-full w-full object-cover" />
          <button class="info-btn absolute bottom-4 right-4 bg-white p-1 rounded-full shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </button>
        </div>
      </div>
      <div class="carousel-item h-full w-full">
        <div class="relative h-full w-full">
          <img src="https://via.placeholder.com/1920x1080.png?text=Personaje+3" alt="Personaje 3" class="h-full w-full object-cover" />
          <button class="info-btn absolute bottom-4 right-4 bg-white p-1 rounded-full shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <button id="prevBtn" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white p-1 rounded-full shadow-lg">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
    <button id="nextBtn" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white p-1 rounded-full shadow-lg">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
  
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg max-w-md">
      <h2 id="personajeName" class="text-2xl font-bold mb-4"></h2>
      <p id="personajeDesc" class="mb-4"></p>
      <button id="closeBtn" class="bg-blue-500 text-white px-4 py-2 rounded">Cerrar</button>
    </div>
  </div>
  
  <script>
    const carrusel = document.querySelector<HTMLElement>('.carousel') ;
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const infoBtns = document.querySelectorAll('.info-btn');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const personajeName = document.getElementById('personajeName');
    const personajeDesc = document.getElementById('personajeDesc');
  
    let currentIndex = 0;
  
    const personajes = [
      { nombre: "Personaje 1", descripcion: "Descripción detallada del Personaje 1." },
      { nombre: "Personaje 2", descripcion: "Descripción detallada del Personaje 2." },
      { nombre: "Personaje 3", descripcion: "Descripción detallada del Personaje 3." },
    ];
  
    function showSlide(index) {
      const offset = index * -100;
      carrusel.style.transform  = `translateX(${offset}%)` ;
    }
  
    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + personajes.length) % personajes.length;
      showSlide(currentIndex);
    });
  
    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % personajes.length;
      showSlide(currentIndex);
    });
  
    infoBtns.forEach((btn, index) => {
      btn.addEventListener('click', () => {
        personajeName.textContent = personajes[index].nombre;
        personajeDesc.textContent = personajes[index].descripcion;
        overlay.classList.remove('hidden');
      });
    });
  
    closeBtn.addEventListener('click', () => {
      overlay.classList.add('hidden');
    });
  </script>
  
  <style>
    .carousel {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    .carousel-item {
      flex: 0 0 100%;
    }
  </style>